import { useState, useEffect } from "react";
import { usePathname } from "next/navigation";
import { IconProps } from "types";

export const ManagementSidebarNavIcon = ({
  color: iconColor,
  width,
  height,
  ...props
}: IconProps) => {
  const [color, setColor] = useState<string>("#8499B1");

  const href = "/management";
  const pathname = usePathname();

  useEffect(() => {
    if (pathname?.startsWith(href) && !iconColor) {
      setColor("#C0933E");
    } else if (!pathname?.startsWith(href) && !iconColor) {
      setColor("#8499B1");
    }
  }, [iconColor, pathname]);

  useEffect(() => {
    if (iconColor) {
      setColor(iconColor);
    }
  }, [iconColor, pathname]);

  return (
    <svg
      width={width ?? "18"}
      height={height ?? "19"}
      viewBox='0 0 18 20'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
      {...props}
    >
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M9.00018 12.0237C10.2299 12.0237 11.2269 11.0268 11.2269 9.79706C11.2269 8.5673 10.2299 7.57038 9.00018 7.57038C7.77042 7.57038 6.77351 8.5673 6.77351 9.79706C6.77351 11.0268 7.77042 12.0237 9.00018 12.0237ZM12.5629 9.79706C12.5629 11.7647 10.9678 13.3597 9.00018 13.3597C7.03257 13.3597 5.4375 11.7647 5.4375 9.79706C5.4375 7.82944 7.03257 6.23438 9.00018 6.23438C10.9678 6.23438 12.5629 7.82944 12.5629 9.79706Z'
        fill={color}
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M8.02445 1.64051L7.67927 2.67606C7.38821 3.54924 6.74952 4.16778 6.08048 4.54031C6.02343 4.57207 5.96695 4.60474 5.91104 4.6383C5.25314 5.03326 4.39692 5.27783 3.49412 5.09308L2.42373 4.87405C2.23594 4.83562 2.04462 4.92167 1.94878 5.08767L1.39569 6.04565C1.29985 6.21166 1.32098 6.42037 1.44816 6.56379L2.17408 7.38242C2.78335 8.06949 3.00152 8.93055 2.98936 9.69779C2.98831 9.76415 2.98831 9.83057 2.98936 9.89693C3.00152 10.6642 2.78334 11.5252 2.17408 12.2123L1.44816 13.0309C1.32098 13.1743 1.29985 13.383 1.39569 13.549L1.94878 14.507C2.04462 14.673 2.23594 14.7591 2.42373 14.7207L3.49405 14.5016C4.39686 14.3169 5.25309 14.5615 5.911 14.9564C5.96692 14.99 6.02342 15.0227 6.08048 15.0545C6.74952 15.427 7.38821 16.0455 7.67927 16.9187L8.02445 17.9542C8.08507 18.1361 8.25525 18.2588 8.44693 18.2588H9.55311C9.7448 18.2588 9.91498 18.1361 9.9756 17.9542L10.3208 16.9187C10.6118 16.0455 11.2505 15.427 11.9196 15.0545C11.9766 15.0227 12.0331 14.99 12.089 14.9564C12.747 14.5615 13.6032 14.3169 14.506 14.5016L15.5763 14.7206C15.7641 14.7591 15.9554 14.673 16.0512 14.507L16.6043 13.549C16.7002 13.383 16.679 13.1743 16.5518 13.0309L15.826 12.2123C15.2167 11.5253 14.9985 10.6642 15.0107 9.89696C15.0117 9.83058 15.0117 9.76414 15.0107 9.69776C14.9985 8.93051 15.2167 8.06944 15.826 7.38237L16.5518 6.56379C16.679 6.42037 16.7002 6.21166 16.6043 6.04565L16.0512 5.08767C15.9554 4.92167 15.7641 4.83562 15.5763 4.87405L14.5059 5.09308C13.6031 5.27782 12.7469 5.03325 12.089 4.6383C12.0331 4.60474 11.9766 4.57207 11.9196 4.54031C11.2505 4.16778 10.6118 3.54924 10.3208 2.67606L9.97559 1.64051C9.91498 1.45866 9.7448 1.33601 9.55311 1.33601H8.44693C8.25525 1.33601 8.08507 1.45866 8.02445 1.64051ZM6.41182 2.25358C6.2495 2.74054 5.87901 3.12334 5.43054 3.37305C5.36079 3.41189 5.29173 3.45183 5.2234 3.49285C4.78279 3.75736 4.26544 3.88723 3.76196 3.7842L2.69158 3.56516C1.9404 3.41145 1.17514 3.75565 0.791766 4.41967L0.238676 5.37765C-0.144696 6.04167 -0.0601537 6.87651 0.448558 7.45019L1.17448 8.26882C1.51464 8.65242 1.66165 9.16399 1.65353 9.67662C1.65225 9.75709 1.65225 9.83762 1.65353 9.91809C1.66165 10.4307 1.51463 10.9423 1.17448 11.3259L0.448559 12.1445C-0.0601528 12.7182 -0.144696 13.553 0.238676 14.217L0.791766 15.175C1.17514 15.839 1.9404 16.1833 2.69158 16.0295L3.76189 15.8105C4.26537 15.7075 4.78273 15.8374 5.22334 16.1019C5.29169 16.1429 5.36077 16.1829 5.43054 16.2217C5.879 16.4714 6.2495 16.8542 6.41182 17.3412L6.757 18.3767C6.99947 19.1041 7.68019 19.5948 8.44693 19.5948H9.55311C10.3199 19.5948 11.0006 19.1041 11.243 18.3767L11.5882 17.3412C11.7505 16.8542 12.121 16.4714 12.5695 16.2217C12.6393 16.1829 12.7083 16.1429 12.7767 16.1019C13.2173 15.8374 13.7347 15.7075 14.2381 15.8105L15.3084 16.0295C16.0596 16.1832 16.8249 15.839 17.2082 15.175L17.7613 14.217C18.1447 13.553 18.0602 12.7182 17.5514 12.1445L16.8256 11.3259C16.4854 10.9423 16.3384 10.4308 16.3465 9.91813C16.3478 9.83764 16.3478 9.75708 16.3465 9.67659C16.3384 9.16395 16.4854 8.65237 16.8256 8.26877L17.5514 7.45019C18.0602 6.87651 18.1447 6.04167 17.7613 5.37765L17.2082 4.41967C16.8249 3.75565 16.0596 3.41145 15.3084 3.56516L14.2381 3.7842C13.7346 3.88722 13.2172 3.75735 12.7766 3.49285C12.7083 3.45183 12.6393 3.41189 12.5695 3.37305C12.121 3.12334 11.7505 2.74054 11.5882 2.25358L11.243 1.21803C11.0006 0.490634 10.3199 0 9.55311 0H8.44693C7.68019 0 6.99947 0.490635 6.757 1.21803L6.41182 2.25358Z'
        fill={color}
      />
    </svg>
  );
};